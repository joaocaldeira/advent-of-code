section_map = '''???????????????????????????????????????????????????
???????????????????????????????????????????????????
???????????????????????????????????????????????????
???????????????????????????????????????????????????
?????#############?###########?#######?#####???????
????#.............#...........#.......#.....#??????
????#.#####.#####.#.#########.#.###.###.###.#??????
????#.....#.#...#.#.#...#...#.#...#.....#...#??????
?????####.#.#.#.###.#.#.###.#.###.#######.##???????
????#.#...#...#...#...#.....#...#.......#...#??????
????#.#.#########.###.#######.#.########?##.#??????
????#.#.#O......#...#.#.....#.#.........#...#??????
????#.#.#####.#.#.###.#.###.#####.#####.#.#.#??????
????#.#.......#.#.....#...#.....#.....#.#.#.#??????
????#.#########.#########.#####.#####.#.#.##???????
????#.........#.....#.....#.#...#...#.#.#...#??????
????#.#######.###.###.#####.#.###.#.###.#.#.#??????
????#.#.........#.#...#.....#.#...#.....#.#.#??????
????#.#.###.#####.#.###.###.#.#.##?########.#??????
????#.#...#.#.....#.#.....#.#.#...#...#.....#??????
?????####.#.#.#####.#.###.###.###.#.#.#.#.##???????
????#.....#.#.#.#...#...#...#.....#.#.#.#...#??????
????#.#####.#.#.#.###.#####.#######.#.#####.#??????
????#.#.#...#...#.#...#...#.....#...#.......#??????
????#.#.#.#####.#.###.#.#.#.#####.#.#.#####.#??????
????#.#.......#.#...#.#.#.#.....#.#.#.#...#.#??????
????#.#########.###.#.#.#######.#.#.###.#.#.#??????
????#...#.........#.#.#.....#...#.#.....#.#.#??????
????#.#.#.#########.#.#####.#.###.#######.#.#??????
????#.#.....#...#...#.#...#.#.......#.....#.#??????
????#.#######.#.#.###.###.#.#.#######.#####.#??????
????#...#.....#...#.......#.#...#...#...#.#.#??????
?????##.#.#########.#####.#.#.###.#.#.#.#.#.#??????
????#.#.#.#.....#.#.#...#.#.#.#...#.#.#.#...#??????
????#.#.#.#.###.#.#.#.#.###.###.###.#.#.#.##???????
????#...#...#.#.#...#.#.....#...#.#.#.#.#...#??????
????#.##?####.#.###.#.#######.###.#.###.####???????
????#...#.....#...#.#.#.......#...#...#.#...#??????
?????##.#.###.###.###.#.###.###.#.###.#.#.#.#??????
????#.#.#.#...#.#.....#.#...#...#.#...#...#.#??????
????#.#.#.#.###.######?##.#####.###.#######.#??????
????#.#.#.#.#.........#...#.....#...#...#...#??????
????#.#.#.#.#####.###.#.###.#####.###.#.#.#.#??????
????#.....#.......#.....#.............#...#.#??????
?????#####?#######?#####?#############?###?#???????
???????????????????????????????????????????????????
???????????????????????????????????????????????????
???????????????????????????????????????????????????
???????????????????????????????????????????????????
???????????????????????????????????????????????????
???????????????????????????????????????????????????
'''


section_map_test = ''' ##   
#..## 
#.#..#
#.O.# 
 ###  '''


def address_to_xy(idx):
    return idx % size, idx//size


def xy_to_address(x, y):
    return size * y + x


def set_char(string, idx, new_char):
    return string[:idx] + new_char + string[idx+1:]


map_here = section_map
size = 52
steps = 0
while '.' in map_here:
    steps += 1
    new_map = map_here
    for i, char in enumerate(map_here):
        if char == 'O':
            x, y = address_to_xy(i)
            for a, b in [(x+1, y), (x-1, y), (x, y+1), (x, y-1)]:
                address = xy_to_address(a, b)
                if map_here[address] == '.':
                    new_map = set_char(new_map, address, 'O')
    map_here = new_map
    # print(steps)
    # print(map_here)

print(steps)
